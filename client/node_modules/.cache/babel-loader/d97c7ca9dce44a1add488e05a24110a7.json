{"ast":null,"code":"const Web3 = require('web3');\n\nmodule.exports = {\n  getEthBalance: function () {\n    const web3 = window.web3;\n    const address = window.ethereum.selectedAddress;\n    return new Promise((resolve, reject) => {\n      if (!web3.utils) {\n        reject();\n      }\n\n      web3.eth.getBalance(address, function (error, wei) {\n        if (!error) {\n          var balance = web3.utils.fromWei(wei, 'ether');\n          resolve(balance);\n        } else {\n          reject(error);\n        }\n      });\n    });\n  },\n  makePaymentTransaction: function (transaction, amount) {\n    const web3 = window.web3;\n    const amountString = web3.utils.toWei(amount.toString());\n    const params = {\n      from: transaction.recipient_address,\n      to: transaction.sender_address,\n      value: amountString\n    };\n    return new Promise((resolve, reject) => {\n      web3.eth.sendTransaction(params, function (err, response) {\n        if (err) {\n          reject(err);\n        }\n\n        resolve(response);\n      });\n    });\n  }\n};","map":{"version":3,"sources":["C:/Users/yashs/Desktop/Computer Science/Web Development/Projects/Hackethons/EPIC TVS/Streamworks-master/client/src/utils/Web3Utils.js"],"names":["Web3","require","module","exports","getEthBalance","web3","window","address","ethereum","selectedAddress","Promise","resolve","reject","utils","eth","getBalance","error","wei","balance","fromWei","makePaymentTransaction","transaction","amount","amountString","toWei","toString","params","from","recipient_address","to","sender_address","value","sendTransaction","err","response"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AAEAC,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,aAAa,EAAE,YAAW;AACxB,UAAMC,IAAI,GAAGC,MAAM,CAACD,IAApB;AACA,UAAME,OAAO,GAAGD,MAAM,CAACE,QAAP,CAAgBC,eAAhC;AAEA,WAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC,UAAI,CAACP,IAAI,CAACQ,KAAV,EAAiB;AACfD,QAAAA,MAAM;AACP;;AACDP,MAAAA,IAAI,CAACS,GAAL,CAASC,UAAT,CAAoBR,OAApB,EAA6B,UAASS,KAAT,EAAgBC,GAAhB,EAAqB;AAChD,YAAI,CAACD,KAAL,EAAY;AACV,cAAIE,OAAO,GAAGb,IAAI,CAACQ,KAAL,CAAWM,OAAX,CAAmBF,GAAnB,EAAwB,OAAxB,CAAd;AACAN,UAAAA,OAAO,CAACO,OAAD,CAAP;AACD,SAHD,MAIK;AACHN,UAAAA,MAAM,CAACI,KAAD,CAAN;AACD;AACF,OARD;AASD,KAbM,CAAP;AAcD,GAnBc;AAqBfI,EAAAA,sBAAsB,EAAE,UAASC,WAAT,EAAsBC,MAAtB,EAA8B;AACpD,UAAMjB,IAAI,GAAGC,MAAM,CAACD,IAApB;AACA,UAAMkB,YAAY,GAAGlB,IAAI,CAACQ,KAAL,CAAWW,KAAX,CAAiBF,MAAM,CAACG,QAAP,EAAjB,CAArB;AAEA,UAAMC,MAAM,GAAG;AACbC,MAAAA,IAAI,EAAEN,WAAW,CAACO,iBADL;AAEbC,MAAAA,EAAE,EAAER,WAAW,CAACS,cAFH;AAGbC,MAAAA,KAAK,EAAER;AAHM,KAAf;AAKA,WAAO,IAAIb,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCP,MAAAA,IAAI,CAACS,GAAL,CAASkB,eAAT,CAAyBN,MAAzB,EAAiC,UAASO,GAAT,EAAcC,QAAd,EAAwB;AACvD,YAAID,GAAJ,EAAS;AACPrB,UAAAA,MAAM,CAACqB,GAAD,CAAN;AACD;;AACDtB,QAAAA,OAAO,CAACuB,QAAD,CAAP;AACD,OALD;AAMD,KAPM,CAAP;AAQD;AAtCc,CAAjB","sourcesContent":["const Web3 = require('web3');\n\nmodule.exports = {\n  getEthBalance: function() {\n    const web3 = window.web3;\n    const address = window.ethereum.selectedAddress;\n\n    return new Promise((resolve, reject) => {\n      if (!web3.utils) {\n        reject();\n      }\n      web3.eth.getBalance(address, function(error, wei) {\n        if (!error) {\n          var balance = web3.utils.fromWei(wei, 'ether');\n          resolve(balance);\n        }\n        else {\n          reject(error);\n        }\n      });\n    })\n  },\n\n  makePaymentTransaction: function(transaction, amount) {\n    const web3 = window.web3;\n    const amountString = web3.utils.toWei(amount.toString());\n\n    const params = {\n      from: transaction.recipient_address,\n      to: transaction.sender_address,\n      value: amountString,\n    };\n    return new Promise((resolve, reject) => {\n      web3.eth.sendTransaction(params, function(err, response) {\n        if (err) {\n          reject(err);\n        }\n        resolve(response);\n      })\n    });\n  },\n\n}\n"]},"metadata":{},"sourceType":"module"}