{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yashs\\\\Desktop\\\\Computer Science\\\\Web Development\\\\Projects\\\\Hackethons\\\\EPIC TVS\\\\EZ Invoicing\\\\client\\\\src\\\\components\\\\user\\\\UserInvoiceList.js\";\nimport React, { Component } from 'react';\nimport { Row, Col, ListGroup, ListGroupItem } from 'react-bootstrap';\nimport * as moment from 'moment';\nimport ShowInvoice from './ShowInvoice';\nconst ETHQ_ENDPOINT = process.env.REACT_APP_ETHQ_ENDPOINT;\nexport default class UserInvoiceList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.showDialog = () => {\n      this.setState({\n        dialogVisible: true\n      });\n    };\n\n    this.handleCloseDialog = () => {\n      this.setState({\n        dialogVisible: false\n      });\n    };\n\n    this.showInvoice = idx => {\n      console.log(idx);\n      this.setState({\n        data: this.props.previousInvoices[idx]\n      });\n      this.setState({\n        dataItem: JSON.parse(this.props.previousInvoices[idx].storeItem)\n      });\n      console.log(this.props.previousInvoices[idx].selectedInvoiceDate);\n      this.setState({\n        dialogVisible: true\n      });\n    };\n\n    this.state = {\n      dialogVisible: false,\n      data: [],\n      dataItem: []\n    };\n  }\n\n  render() {\n    const {\n      dialogVisible,\n      data,\n      dataItem\n    } = this.state;\n    const {\n      previousInvoices,\n      toggle\n    } = this.props;\n    let invoices = previousInvoices.map((item, idx) => {\n      if (toggle == 'unpaid') {\n        if (item.status == 'paid') return;\n      } else {\n        if (item.status == 'unpaid') return;\n      }\n\n      let dueDate;\n      if (toggle == 'paid') dueDate = moment(item.selectedInvoiceDate).format(\"YY-MM-DD HH:mm\");else dueDate = dueDate = moment(item.selectedFinanceDate).format(\"YY-MM-DD HH:mm\"); // console.log(previousInvoices);\n\n      let recipientAddress = item.recipient_address.substr(0, 5) + \"....\" + item.recipient_address.substr(item.recipient_address.length - 6, item.recipient_address.length - 1);\n      let transactionHash = item.transaction_hash ? item.transaction_hash.substr(0, 5) + \"....\" + item.recipient_address.substr(item.recipient_address.length - 6, item.recipient_address.length - 1) : \"-\"; // let \n\n      return React.createElement(ListGroupItem, {\n        key: `${item._id}-idx`,\n        onClick: () => this.showInvoice(idx),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(Col, {\n        lg: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cell-data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: `${ETHQ_ENDPOINT}/search?q=(from:${item.recipient_address}%20OR%20to:${item.recipient_address})`,\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, recipientAddress)), React.createElement(\"div\", {\n        className: \"cell-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"Recipient Address\"))), React.createElement(Col, {\n        lg: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, moment(item.date_created).format(\"YY-MM-DD HH:mm\")), React.createElement(Col, {\n        lg: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, item.amount)), React.createElement(Col, {\n        lg: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, item.invoiceNumber)), React.createElement(Col, {\n        lg: 1,\n        className: \"invoice-description-data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, dueDate)), React.createElement(Col, {\n        lg: 2,\n        className: \"invoice-description-data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cell-data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, item.label), React.createElement(\"div\", {\n        className: \"cell-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Label\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cell-data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, item.description), React.createElement(\"div\", {\n        className: \"cell-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Description\")))), React.createElement(Col, {\n        lg: 1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cell-data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, item.status), React.createElement(\"div\", {\n        className: \"cell-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"Status\"))), React.createElement(Col, {\n        lg: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cell-data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: `${ETHQ_ENDPOINT}/tx/${item.transaction_hash}`,\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, transactionHash)), React.createElement(\"div\", {\n        className: \"cell-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Transaction Hash\")))));\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(ShowInvoice, {\n      dialogVisible: dialogVisible,\n      handleCloseDialog: this.handleCloseDialog,\n      payInvoice: this.props.payInvoice,\n      data: data,\n      dataItem: dataItem,\n      toggle: this.props.toggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(ListGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(ListGroupItem, {\n      className: \"list-table-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(Col, {\n      lg: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"Identifier\"), React.createElement(Col, {\n      lg: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Created on\"), React.createElement(Col, {\n      lg: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Amount (Eth)\"), React.createElement(Col, {\n      lg: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Invoice Number\"), React.createElement(Col, {\n      lg: 1,\n      className: \"cell-description-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Due Date\"), React.createElement(Col, {\n      lg: 2,\n      className: \"cell-description-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Description\"), React.createElement(Col, {\n      lg: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"Invoice Status\"))), invoices));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/yashs/Desktop/Computer Science/Web Development/Projects/Hackethons/EPIC TVS/EZ Invoicing/client/src/components/user/UserInvoiceList.js"],"names":["React","Component","Row","Col","ListGroup","ListGroupItem","moment","ShowInvoice","ETHQ_ENDPOINT","process","env","REACT_APP_ETHQ_ENDPOINT","UserInvoiceList","constructor","props","showDialog","setState","dialogVisible","handleCloseDialog","showInvoice","idx","console","log","data","previousInvoices","dataItem","JSON","parse","storeItem","selectedInvoiceDate","state","render","toggle","invoices","map","item","status","dueDate","format","selectedFinanceDate","recipientAddress","recipient_address","substr","length","transactionHash","transaction_hash","_id","date_created","amount","invoiceNumber","label","description","payInvoice"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Row, Col, ListGroup, ListGroupItem } from 'react-bootstrap';\nimport * as moment from 'moment';\nimport ShowInvoice from './ShowInvoice';\nconst ETHQ_ENDPOINT = process.env.REACT_APP_ETHQ_ENDPOINT;\n\nexport default class UserInvoiceList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {dialogVisible: false, data: [], dataItem: []};\n  }\n  showDialog = () => {\n    this.setState({ dialogVisible: true });\n  }\n\n  handleCloseDialog = () => {\n    this.setState({ dialogVisible: false });\n  }\n  showInvoice = (idx) =>{\n    console.log(idx);\n    this.setState({data: this.props.previousInvoices[idx]});\n    this.setState({dataItem: JSON.parse(this.props.previousInvoices[idx].storeItem)});\n    console.log(this.props.previousInvoices[idx].selectedInvoiceDate);\n    this.setState({dialogVisible: true});\n  }\n  render() {\n    const { dialogVisible, data, dataItem} = this.state;\n    const { previousInvoices , toggle} = this.props;\n    let invoices = previousInvoices.map((item, idx) => {\n      if(toggle=='unpaid'){\n        if(item.status=='paid') return;\n      }\n      else{\n        if(item.status=='unpaid') return;\n      }\n      let dueDate;\n      if(toggle=='paid') dueDate = moment(item.selectedInvoiceDate).format(\"YY-MM-DD HH:mm\")\n      else dueDate = dueDate = moment(item.selectedFinanceDate).format(\"YY-MM-DD HH:mm\");\n      // console.log(previousInvoices);\n      let recipientAddress = item.recipient_address.substr(0, 5) + \"....\" + item.recipient_address.substr(item.recipient_address.length - 6, item.recipient_address.length - 1);\n      let transactionHash = item.transaction_hash ? item.transaction_hash.substr(0, 5) + \"....\" + item.recipient_address.substr(item.recipient_address.length - 6, item.recipient_address.length - 1) : \"-\";\n      // let \n      return <ListGroupItem key={`${item._id}-idx`} onClick={() => this.showInvoice(idx)}>\n        <Row>\n          <Col lg={2}>\n            <div>\n            <div className=\"cell-data\"><a href={`${ETHQ_ENDPOINT}/search?q=(from:${item.recipient_address}%20OR%20to:${item.recipient_address})`} target=\"_blank\">{recipientAddress}</a></div>\n            <div className=\"cell-label\">Recipient Address</div>\n            </div>\n          </Col>\n          <Col lg={1}>\n            {moment(item.date_created).format(\"YY-MM-DD HH:mm\")}\n          </Col>              \n          <Col lg={1}>\n            <div>{item.amount}</div>\n          </Col>\n          <Col lg={2}>\n            <div>{item.invoiceNumber}</div>\n          </Col>\n          <Col lg={1} className=\"invoice-description-data\">\n            <div>\n            {dueDate}\n            </div>\n          </Col>\n          <Col lg={2} className=\"invoice-description-data\">\n            <div>\n              <div>\n              <div className=\"cell-data\">{item.label}</div>\n              <div className=\"cell-label\">Label</div>\n              </div>\n            <div>\n              <div className=\"cell-data\">\n              {item.description}\n              </div>\n              <div className=\"cell-label\">\n                Description\n              </div>\n            </div>\n            </div>\n          </Col>\n          <Col lg={1}>\n            <div> \n              <div className=\"cell-data\">\n              {item.status}\n              </div>\n              <div className=\"cell-label\">\n                Status\n              </div>\n            </div>\n          </Col>\n\n          <Col lg={2}>\n            <div> \n              <div className=\"cell-data\">\n            <a href={`${ETHQ_ENDPOINT}/tx/${item.transaction_hash}`} target=\"_blank\">{transactionHash}</a>\n              </div>\n              <div className=\"cell-label\">\n                Transaction Hash\n              </div>\n            </div>\n            \n          </Col>\n        </Row>\n      </ListGroupItem>\n    })\n    return (\n      <div>\n        {/* <ShowInvoice dialogVisible={dialogVisible} handleCloseDialog={this.handleCloseDialog}/> */}\n        <ShowInvoice dialogVisible={dialogVisible} handleCloseDialog={this.handleCloseDialog} payInvoice={this.props.payInvoice} data={data} dataItem={dataItem} toggle={this.props.toggle}/>\n        <ListGroup>\n          <ListGroupItem className=\"list-table-header\">\n          <Row>\n            <Col lg={2}>\n              Identifier\n            </Col>\n            <Col lg={1}>\n              Created on\n            </Col>            \n            <Col lg={1}>\n              Amount (Eth)\n            </Col>\n            <Col lg={2}>\n              Invoice Number\n            </Col>\n            <Col lg={1} className=\"cell-description-header\">\n              Due Date\n            </Col>\n            <Col lg={2} className=\"cell-description-header\">\n              Description\n            </Col>\n            <Col lg={2}>\n              Invoice Status\n            </Col>\n\n            </Row>\n          </ListGroupItem>\n          {invoices}\n        </ListGroup>\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}