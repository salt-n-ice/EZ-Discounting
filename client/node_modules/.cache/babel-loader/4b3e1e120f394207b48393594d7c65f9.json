{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yashs\\\\Desktop\\\\Computer Science\\\\Web Development\\\\Projects\\\\Hackethons\\\\EPIC TVS\\\\EZ-Discounting\\\\client\\\\src\\\\components\\\\manager\\\\ManagerView.js\";\nimport React, { Component } from 'react';\nimport { Row, Col, ListGroup, ListGroupItem, Container, Tabs, Tab, Button } from 'react-bootstrap';\nimport InvoicesList from './InvoicesList';\nimport { getTransactionStatus } from '../../utils/DfuseUtils';\nimport TransactionStatus from '../transaction/TransactionStatus';\nimport './manager.scss';\nexport default class ManagerView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.listenForInvoicePayments = () => {\n      const self = this;\n      this.timer = setInterval(function () {\n        self.props.listInvoices();\n      }, 1000);\n    };\n\n    this.homeTabToggle = toggle => {\n      this.setState({\n        toggle: toggle\n      });\n    };\n\n    this.state = {\n      toggle: 'unpaid'\n    };\n  }\n\n  componentWillMount() {\n    this.props.listInvoices();\n    this.listenForInvoicePayments();\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timer);\n  }\n\n  render() {\n    const {\n      manager,\n      transaction\n    } = this.props;\n    let currentTransactionStatus = React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    });\n\n    if (transaction.pendingTransactionID && transaction.pendingTransactionID.length > 0) {\n      currentTransactionStatus = React.createElement(TransactionStatus, {\n        transaction_hash: transaction.pendingTransactionID,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      });\n    }\n\n    let invoiceList = React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    });\n\n    if (manager.invoices.length > 0) {\n      invoiceList = React.createElement(InvoicesList, {\n        invoices: manager.invoices,\n        payInvoice: this.props.payInvoice,\n        toggle: this.state.toggle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      });\n    } else {\n      invoiceList = React.createElement(\"div\", {\n        className: \"empty-list-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \"Looks like you haven't recieved any invoices yet.\");\n    }\n\n    return React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, currentTransactionStatus, React.createElement(Tabs, {\n      defaultActiveKey: \"unpaid\",\n      id: \"home-view-tab\",\n      onSelect: this.homeTabToggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(Tab, {\n      eventKey: \"unpaid\",\n      title: \"Unpaid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(ListGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(ListGroupItem, {\n      className: \"list-table-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(Col, {\n      lg: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, invoiceList))))), React.createElement(Tab, {\n      eventKey: \"paid\",\n      title: \"Paid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(ListGroup, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(ListGroupItem, {\n      className: \"list-table-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(Col, {\n      lg: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, invoiceList)))))));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/yashs/Desktop/Computer Science/Web Development/Projects/Hackethons/EPIC TVS/EZ-Discounting/client/src/components/manager/ManagerView.js"],"names":["React","Component","Row","Col","ListGroup","ListGroupItem","Container","Tabs","Tab","Button","InvoicesList","getTransactionStatus","TransactionStatus","ManagerView","constructor","props","listenForInvoicePayments","self","timer","setInterval","listInvoices","homeTabToggle","toggle","setState","state","componentWillMount","componentWillUnmount","clearInterval","render","manager","transaction","currentTransactionStatus","pendingTransactionID","length","invoiceList","invoices","payInvoice"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Row, Col, ListGroup, ListGroupItem, Container, Tabs, Tab, Button } from 'react-bootstrap';\nimport InvoicesList from './InvoicesList';\nimport { getTransactionStatus } from '../../utils/DfuseUtils';\nimport TransactionStatus from '../transaction/TransactionStatus';\nimport './manager.scss';\n\nexport default class ManagerView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { toggle: 'unpaid' };\n  }\n  componentWillMount() {\n    this.props.listInvoices();\n    this.listenForInvoicePayments();\n  }\n\n\n  listenForInvoicePayments = () => {\n    const self = this;\n    this.timer = setInterval(function() {\n      self.props.listInvoices();\n    }, 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timer);\n  }\n\n  homeTabToggle = (toggle) => {\n    this.setState({ toggle: toggle });\n  }\n\n  render() {\n    const { manager, transaction } = this.props;\n    let currentTransactionStatus = <span/>;\n\n    if (transaction.pendingTransactionID && transaction.pendingTransactionID.length > 0) {\n      currentTransactionStatus = <TransactionStatus transaction_hash={transaction.pendingTransactionID}/>\n    }\n    let invoiceList = <span/>;\n    if (manager.invoices.length > 0) {\n      invoiceList = <InvoicesList invoices={manager.invoices} payInvoice={this.props.payInvoice} toggle={this.state.toggle}/>\n    }\n    else {\n      invoiceList = <div className=\"empty-list-container\">Looks like you haven't recieved any invoices yet.</div>\n    }\n    return (\n      <Container>\n        {currentTransactionStatus}\n        <Tabs defaultActiveKey=\"unpaid\" id=\"home-view-tab\" onSelect={this.homeTabToggle}>\n            <Tab eventKey=\"unpaid\" title=\"Unpaid\">\n              <ListGroup>\n                <ListGroupItem className=\"list-table-header\"> \n                  <Row> \n                    <Col lg={12}>\n                      {invoiceList}\n                    </Col>\n                  </Row>\n                </ListGroupItem>\n              </ListGroup>\n            </Tab>\n            <Tab eventKey=\"paid\" title=\"Paid\">\n              <ListGroup>\n                <ListGroupItem className=\"list-table-header\"> \n                <Row> \n                    <Col lg={12}>\n                      {invoiceList}\n                    </Col>\n                  </Row>\n                </ListGroupItem>\n                \n                {/* {transactionList} */}\n              </ListGroup>\n            </Tab>\n        </Tabs>  \n    </Container>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}