{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yashs\\\\Desktop\\\\Computer Science\\\\Web Development\\\\Projects\\\\Hackethons\\\\EPIC TVS\\\\EZ Invoicing\\\\client\\\\src\\\\components\\\\landing\\\\Landing.js\";\nimport React, { Component } from 'react';\nimport { Container, Grid, Row, Col, Button } from 'react-bootstrap';\nimport LoginPage from './LoginPage';\nimport Web3 from 'web3';\nexport default class Landing extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      'currentView': ''\n    };\n  }\n\n  componentWillMount() {\n    const web3 = window.web3;\n    const self = this;\n\n    if (!web3) {\n      this.setState({\n        'currentView': 'login'\n      });\n    } else {\n      this.setState({\n        'currentView': 'home'\n      });\n    }\n\n    window.addEventListener('load', async () => {\n      if (window.ethereum) {\n        window.web3 = new Web3(window.ethereum);\n\n        try {\n          await window.ethereum.enable();\n        } catch (error) {\n          this.setState({\n            'currentView': 'login'\n          });\n        }\n      } // Legacy dapp browsers...\n      else if (window.web3) {\n          window.web3 = new Web3(web3.currentProvider);\n        } // Non-dapp browsers...\n        else {\n            this.setState({\n              'currentView': 'login'\n            });\n          }\n    });\n\n    if (web3 && web3.utils) {\n      let walletAddress = window.ethereum.selectedAddress;\n      web3.eth.getBalance(walletAddress, function (error, result) {\n        if (error) {// Do nothing\n        } else {\n          let balance = web3.utils.fromWei(result, 'ether');\n          let walletBalance = balance; //   self.props.setUserWallet({'address': walletAddress, balance: balance});\n        }\n      });\n    }\n  }\n\n  render() {\n    let currentViewPage = React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    });\n\n    if (this.state.currentView === 'home') {\n      currentViewPage = this.props.children;\n    }\n\n    if (this.state.currentView === 'login') {\n      currentViewPage = React.createElement(LoginPage, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, currentViewPage);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/yashs/Desktop/Computer Science/Web Development/Projects/Hackethons/EPIC TVS/EZ Invoicing/client/src/components/landing/Landing.js"],"names":["React","Component","Container","Grid","Row","Col","Button","LoginPage","Web3","Landing","constructor","props","state","componentWillMount","web3","window","self","setState","addEventListener","ethereum","enable","error","currentProvider","utils","walletAddress","selectedAddress","eth","getBalance","result","balance","fromWei","walletBalance","render","currentViewPage","currentView","children"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,SAAT,EAAoBC,IAApB,EAA0BC,GAA1B,EAA+BC,GAA/B,EAAoCC,MAApC,QAAkD,iBAAlD;AACA,OAAOC,SAAP,MAAsB,aAAtB;AAGA,OAAOC,IAAP,MAAiB,MAAjB;AAEA,eAAe,MAAMC,OAAN,SAAsBR,SAAtB,CAAgC;AAC7CS,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AAAE,qBAAe;AAAjB,KAAb;AACD;;AAEDC,EAAAA,kBAAkB,GAAG;AAEnB,UAAMC,IAAI,GAAGC,MAAM,CAACD,IAApB;AACA,UAAME,IAAI,GAAG,IAAb;;AACA,QAAI,CAACF,IAAL,EAAW;AACT,WAAKG,QAAL,CAAc;AAAE,uBAAe;AAAjB,OAAd;AACD,KAFD,MAGK;AAEH,WAAKA,QAAL,CAAc;AAAE,uBAAe;AAAjB,OAAd;AACD;;AAEDF,IAAAA,MAAM,CAACG,gBAAP,CAAwB,MAAxB,EAAgC,YAAW;AACzC,UAAIH,MAAM,CAACI,QAAX,EAAqB;AACnBJ,QAAAA,MAAM,CAACD,IAAP,GAAc,IAAIN,IAAJ,CAASO,MAAM,CAACI,QAAhB,CAAd;;AACA,YAAI;AACF,gBAAMJ,MAAM,CAACI,QAAP,CAAgBC,MAAhB,EAAN;AAED,SAHD,CAIA,OAAOC,KAAP,EAAc;AACZ,eAAKJ,QAAL,CAAc;AAAE,2BAAe;AAAjB,WAAd;AACD;AACF,OATD,CAUA;AAVA,WAWK,IAAIF,MAAM,CAACD,IAAX,EAAiB;AACpBC,UAAAA,MAAM,CAACD,IAAP,GAAc,IAAIN,IAAJ,CAASM,IAAI,CAACQ,eAAd,CAAd;AACD,SAFI,CAIL;AAJK,aAKA;AACH,iBAAKL,QAAL,CAAc;AAAE,6BAAe;AAAjB,aAAd;AAED;AACF,KArBD;;AAuBA,QAAIH,IAAI,IAAIA,IAAI,CAACS,KAAjB,EAAwB;AACtB,UAAIC,aAAa,GAAGT,MAAM,CAACI,QAAP,CAAgBM,eAApC;AACAX,MAAAA,IAAI,CAACY,GAAL,CAASC,UAAT,CAAoBH,aAApB,EAAmC,UAASH,KAAT,EAAgBO,MAAhB,EAAwB;AAEzD,YAAIP,KAAJ,EAAW,CACT;AACD,SAFD,MAGK;AACH,cAAIQ,OAAO,GAAGf,IAAI,CAACS,KAAL,CAAWO,OAAX,CAAmBF,MAAnB,EAA2B,OAA3B,CAAd;AACA,cAAIG,aAAa,GAAGF,OAApB,CAFG,CAGH;AACD;AACF,OAVD;AAWD;AAEF;;AACDG,EAAAA,MAAM,GAAG;AACP,QAAIC,eAAe,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAtB;;AACA,QAAI,KAAKrB,KAAL,CAAWsB,WAAX,KAA2B,MAA/B,EAAuC;AACrCD,MAAAA,eAAe,GAAG,KAAKtB,KAAL,CAAWwB,QAA7B;AACD;;AACD,QAAI,KAAKvB,KAAL,CAAWsB,WAAX,KAA2B,OAA/B,EAAwC;AACtCD,MAAAA,eAAe,GAAG,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAlB;AACD;;AACD,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGA,eADH,CADF;AAKD;;AAtE4C","sourcesContent":["import React, { Component } from 'react';\nimport { Container, Grid, Row, Col, Button } from 'react-bootstrap';\nimport LoginPage from './LoginPage';\n\n\nimport Web3 from 'web3';\n\nexport default class Landing extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { 'currentView': '' };\n  }\n\n  componentWillMount() {\n\n    const web3 = window.web3;\n    const self = this;\n    if (!web3) {\n      this.setState({ 'currentView': 'login' });\n    }\n    else {\n\n      this.setState({ 'currentView': 'home' });\n    }\n\n    window.addEventListener('load', async() => {\n      if (window.ethereum) {\n        window.web3 = new Web3(window.ethereum);\n        try {\n          await window.ethereum.enable();\n\n        }\n        catch (error) {\n          this.setState({ 'currentView': 'login' });\n        }\n      }\n      // Legacy dapp browsers...\n      else if (window.web3) {\n        window.web3 = new Web3(web3.currentProvider);\n      }\n\n      // Non-dapp browsers...\n      else {\n        this.setState({ 'currentView': 'login' });\n\n      }\n    });\n\n    if (web3 && web3.utils) {\n      let walletAddress = window.ethereum.selectedAddress;\n      web3.eth.getBalance(walletAddress, function(error, result) {\n\n        if (error) {\n          // Do nothing\n        }\n        else {\n          let balance = web3.utils.fromWei(result, 'ether');\n          let walletBalance = balance;\n          //   self.props.setUserWallet({'address': walletAddress, balance: balance});\n        }\n      })\n    }\n\n  }\n  render() {\n    let currentViewPage = <span/>;\n    if (this.state.currentView === 'home') {\n      currentViewPage = this.props.children;\n    }\n    if (this.state.currentView === 'login') {\n      currentViewPage = <LoginPage/>;\n    }\n    return (\n      <div>\n        {currentViewPage}\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}